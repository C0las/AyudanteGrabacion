{"version":3,"sources":["redux/actions/authActions.js","components/views/Logout.js"],"names":["login","loginAdminData","history","dispatch","a","type","ActionTypes","LOADING_REQUEST","payload","loading","authService","data","success","authValue","current","result","user","isLoggedIn","storePersist","set","LOGIN_SUCCESS","push","FAILED_REQUEST","logout","LOGOUT_SUCCESS","Logout","useHistory","useDispatch","useEffect","logoutAction","asyncLogout"],"mappings":"6NAIaA,EAAQ,SAACC,EAAgBC,GAAjB,8CAA6B,WAAOC,GAAP,iBAAAC,EAAA,6DAChDD,EAAS,CACPE,KAAMC,IAAYC,gBAClBC,QAAS,CAAEC,SAAS,KAH0B,SAK7BC,IAAkBT,GALW,QAO3B,KAFfU,EAL0C,QAOvCC,SACDC,EAAY,CAChBC,QAASH,EAAKI,OAAOC,KACrBP,SAAS,EACTQ,YAAY,GAGdC,IAAaC,IAAI,OAAQN,GAEzBV,EAAS,CACPE,KAAMC,IAAYc,cAClBZ,QAASG,EAAKI,OAAOC,OAEvBd,EAAQmB,KAAK,MAEblB,EAAS,CACPE,KAAMC,IAAYgB,eAClBd,QAASG,IAxBmC,2CAA7B,uDA6BRY,EAAS,SAACrB,GAAD,8CAAa,WAAOC,GAAP,SAAAC,EAAA,sDACjCM,MACAP,EAAS,CACPE,KAAMC,IAAYkB,iBAEpBtB,EAAQmB,KAAK,UALoB,2CAAb,wD,4GCfPI,UAbA,WACb,IAAIvB,EAAUwB,cACRvB,EAAWwB,cASjB,OAPAC,qBAAU,WAAM,4CACd,sBAAAxB,EAAA,sEACQD,EAAS0B,YAAa3B,IAD9B,4CADc,uBAAC,WAAD,wBAId4B,KACC,CAAC3B,EAAUD,IAEP","file":"static/js/2.93cbb398.chunk.js","sourcesContent":["import { ActionTypes } from '../constants/action-types'\r\nimport * as authService from '../../services/auth'\r\nimport storePersist from '../storePersist'\r\n\r\nexport const login = (loginAdminData, history) => async (dispatch) => {\r\n  dispatch({\r\n    type: ActionTypes.LOADING_REQUEST,\r\n    payload: { loading: true }\r\n  })\r\n  const data = await authService.login(loginAdminData)\r\n\r\n  if (data.success === true) {\r\n    const authValue = {\r\n      current: data.result.user,\r\n      loading: false,\r\n      isLoggedIn: true\r\n    }\r\n\r\n    storePersist.set('auth', authValue)\r\n\r\n    dispatch({\r\n      type: ActionTypes.LOGIN_SUCCESS,\r\n      payload: data.result.user\r\n    })\r\n    history.push('/')\r\n  } else {\r\n    dispatch({\r\n      type: ActionTypes.FAILED_REQUEST,\r\n      payload: data\r\n    })\r\n  }\r\n}\r\n\r\nexport const logout = (history) => async (dispatch) => {\r\n  authService.logout()\r\n  dispatch({\r\n    type: ActionTypes.LOGOUT_SUCCESS\r\n  })\r\n  history.push('/login')\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { logout as logoutAction } from '../../redux/actions/authActions'\r\n\r\nconst Logout = () => {\r\n  let history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    async function asyncLogout() {\r\n      await dispatch(logoutAction(history))\r\n    }\r\n    asyncLogout()\r\n  }, [dispatch, history])\r\n\r\n  return <></>\r\n}\r\nexport default Logout\r\n"],"sourceRoot":""}