(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{297:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(157),a=n(290),s=n(100),c=function(e){return e.assistant},l=(Object(s.a)((function(e){return e.allAssistants.assistants}),(function(e){return e.allAssistants.currentFilter}),(function(e,t){var n=e.filter((function(e){return null===e||void 0===e?void 0:e.name.toLowerCase().includes(t.toLowerCase())}));return""===t?e:n})),Object(s.a)((function(e){return e.allAssistants.assistants}),(function(e){return e.allAssistants.selectDay}),(function(e){return e.allAssistants.currentFilter}),(function(e,t,n){var r=e.filter((function(e){return e.daysAvailable.map((function(e){var t;return null===(t=e.day[0])||void 0===t?void 0:t.toLowerCase()})).includes(t.toLowerCase())})),a=e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.lastName.toLowerCase().includes(n.toLowerCase())||e.rut.toLowerCase().includes(n.toLowerCase())}));return"Todos"===t&&""===n?e:"Todos"===t?a:"Todos"!==t?r:e}))),i=Object(s.a)((function(e){var t;return null===(t=e.allScheduler)||void 0===t?void 0:t.scheduler}),(function(e){var t;return null===(t=e.allAssistants)||void 0===t?void 0:t.assistants}),(function(e){var t;return null===(t=e.allScheduler)||void 0===t?void 0:t.currentFilter}),(function(e){var t;return null===(t=e.auth.current)||void 0===t?void 0:t.role[0].name}),(function(e,t,n,r){var a=e.map((function(e){return{_id:e._id,title:e.title,departament:e.departament,school:e.school,teacher:e.teacher,startDate:e.startDate,endDate:e.endDate,confirmationTurn:e.confirmationTurn,assistant:t.filter((function(t){return t._id.includes(e.assistant)}))[0],user:r}})),s=a.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())||e.assistant.name.toLowerCase().includes(n.toLowerCase())||e.assistant.rut.toLowerCase().includes(n.toLowerCase())}));return""===n?a:s})),o=Object(s.a)((function(e){return e.allScheduler.scheduler}),(function(e){return e.auth.current}),(function(e,t){return e.filter((function(e){return e.assistant.includes(t.assistant)}))})),u=function(e){return Object(s.a)((function(e){return e.allAssistants.currentDay}),(function(t){return e.filter((function(e){return Object(r.a)(new Date(e.startDate),"EEEE dd/MM",{locale:a.a}).replace(/^\w/,(function(e){return e.toUpperCase()})).includes(t)}))}))},d=Object(s.a)([c],(function(e){return e.assistant})),f=Object(s.a)([c],(function(e){var t;return null===(t=e.assistant.daysAvailable)||void 0===t?void 0:t.length}))},357:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var r,a,s,c,l,i,o,u,d,f,m,w,h,g,x,j,b=n(12),v=n(26),p=n.n(v),O=n(41),y=n(140),E=n(157),N=n(290),C=n(0),L=n(34),D=n(103),S=n(109),T=n(88),M=n(297),k=["title","titleId"];function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){var n=e.title,b=e.titleId,v=A(e,k);return C.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlnssvgjs:"http://svgjs.com/svgjs",width:512,height:512,x:0,y:0,viewBox:"0 0 512.13 512.13",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",className:"",ref:t,"aria-labelledby":b},v),n?C.createElement("title",{id:b},n):null,C.createElement("g",null,C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},C.createElement("g",null,C.createElement("path",{d:"M256.065,0C114.43,0,0,114.298,0,256.065S114.298,512.13,256.065,512.13S512.13,397.832,512.13,256.065    S397.702,0,256.065,0z M256.065,477.892c-122.891,0-221.828-98.937-221.828-221.828S133.175,34.236,256.065,34.236    s221.828,98.937,221.828,221.828S378.956,477.892,256.065,477.892z",fill:"#5a5a5a","data-original":"#000000",style:{},className:""}))),C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},C.createElement("g",null,C.createElement("path",{d:"M378.956,180.952c-6.769-6.771-17.054-6.771-23.953-0.001L223.651,312.304l-66.523-66.522    c-6.769-6.769-17.054-6.769-23.953,0c-6.769,6.769-6.769,17.053,0,23.953l78.498,78.498c3.385,3.385,6.769,5.077,11.977,5.077    c5.077,0,8.592-1.692,11.977-5.077l143.329-143.328C385.725,198.136,385.725,187.853,378.956,180.952z",fill:"#5a5a5a","data-original":"#000000",style:{},className:""}))),r||(r=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),a||(a=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),s||(s=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),c||(c=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),l||(l=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),i||(i=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),o||(o=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),u||(u=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),d||(d=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),f||(f=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),m||(m=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),w||(w=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),h||(h=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),g||(g=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),x||(x=C.createElement("g",{xmlns:"http://www.w3.org/2000/svg"})),j||(j=C.createElement("script",null))))}var P=C.forwardRef(_),R=(n.p,n(49)),H=n.n(R),F=n(44),I=n(2);function B(){var e=Object(L.b)(),t=Object(L.c)(M.b).filter((function(e){return e.confirmationTurn.includes("Pendiente")})),n=Object(L.c)((function(e){return e.allScheduler.scheduler})),r=Object(L.c)(D.a),a=n.filter((function(e){return e.confirmationTurn.includes("Rechazado")&&!e.assistant.includes(r)})),s=t.concat(a);Object(C.useEffect)((function(){function t(){return(t=Object(O.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(T.e)(r)),e(S.a);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,r]);return Object(I.jsxs)("div",{className:"flex flex-col w-full",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center justify-between w-full pl-10 pr-10 mt-5",children:[Object(I.jsx)("h1",{className:"text-lg text-gray-700 font-semibold select-none",children:"Confirmaci\xf3n"}),Object(I.jsx)("div",{className:"flex flex-row items-center gap-7",children:Object(I.jsx)("button",{onClick:function(){return e(S.a)},className:"flex items-center justify-center hover:bg-gray-200 active:bg-gray-200 rounded-full h-8 w-8",children:Object(I.jsx)(y.e,{className:"h-6 w-6 text-gray-600"})})})]}),0===s.length?Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center w-full gap-5 h-screen",children:[Object(I.jsx)(P,{className:"h-20 w-20 "}),Object(I.jsx)("h1",{className:"text-gray-500 text-sm font-medium",children:"Sin turnos por confirmar"})]}):Object(I.jsx)("div",{className:"flex flex-col items-center w-full",children:s.map((function(t){var n=Object(E.a)(new Date(t.startDate),"dd MMM, yyyy",{locale:N.a}),a=Object(E.a)(new Date(t.startDate),"HH:mm"),s=Object(E.a)(new Date(t.endDate),"HH:mm");return Object(I.jsxs)("div",{onClick:function(){return function(t,n,a,s){console.log(Object(b.a)(Object(b.a)({},s),{},{assistant:s.assistant.concat(r)}));var c=Object(b.a)(Object(b.a)({},s),{},{confirmationTurn:"Confirmado",assistant:r}),l=Object(b.a)(Object(b.a)({},s),{},{confirmationTurn:"Rechazado",assistant:s.assistant.concat(r)});H()({title:"\xbfQue desea hacer?",text:"Clase del d\xeda ".concat(t," desde las ").concat(n," hasta las ").concat(a),icon:"info",closeOnClickOutside:!1,buttons:{cancel:{text:"Cancelar",value:null,visible:!0,closeModal:!0},rejected:{text:"Rechazar",value:!1,className:"bg-red-400",closeModal:!0},confirm:{text:"Confirmar",value:!0,visible:!0,className:"",closeModal:!0}}}).then((function(t){null!==t&&(t?F.a.get("schedule").then((function(t){"Confirmado"===t.data.find((function(e){return e._id.includes(s._id)})).confirmationTurn?H()("\xa1Oh no!, alguien a tomado este turno antes que tu",{icon:"error",buttons:!1,timer:2e3}).then((function(){return e(S.a)})):H()("\xa1Haz confirmado este turno con \xe9xito!",{icon:"success",buttons:!1,timer:1e3}).then((function(){return e(Object(S.d)(s._id,c))}))})):H()("\xa1Este turno ha sido rechazado con \xe9xito!",{icon:"success",buttons:!1,timer:1e3}).then((function(){return e(Object(S.d)(s._id,l))})))}))}(n,a,s,t)},className:"flex flex-col border-b border-gray-200 pt-5 pb-5 w-full hover:bg-gray-200 pl-10 pr-10",children:[Object(I.jsx)("h3",{className:"text-gray-500 font-medium text-sm",children:n}),Object(I.jsx)("h1",{className:"text-gray-700 font-medium text-lg mt-2",children:t.school}),Object(I.jsxs)("div",{className:"flex flex-col gap-1s mt-3",children:[Object(I.jsxs)("div",{className:"flex flex-row items-center text-gray-500 gap-3",children:[Object(I.jsx)(y.b,{className:"h-4 w-4"}),Object(I.jsxs)("h3",{className:"text-sm",children:[a," - ",s]})]}),Object(I.jsxs)("div",{className:"flex flex-row items-center text-gray-500 gap-3",children:[Object(I.jsx)(y.a,{className:"h-4 w-4"}),Object(I.jsx)("h3",{className:"text-sm",children:t.departament})]}),Object(I.jsxs)("div",{className:"flex flex-row items-center  text-gray-500 gap-3",children:[Object(I.jsx)(y.c,{className:"h-4 w-4"}),Object(I.jsx)("h3",{className:"text-sm",children:t.title})]}),"Rechazado"===t.confirmationTurn&&Object(I.jsx)("span",{className:"flex flex-row text-white text-sm justify-center items-center bg-red-500 rounded-lg w-1/3 lg:w-1/6 h-6 mt-3",children:"Rechazado"}),"Pendiente"===t.confirmationTurn&&Object(I.jsx)("span",{className:"flex flex-row text-white text-sm justify-center items-center bg-yellow-500 rounded-lg w-1/3 lg:w-1/6 h-6 mt-3",children:"Pendiente"})]})]})}))})]})}}}]);
//# sourceMappingURL=11.c5bcb8b8.chunk.js.map