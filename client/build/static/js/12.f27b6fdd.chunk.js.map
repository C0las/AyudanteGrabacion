{"version":3,"sources":["redux/selectors/filter.js","components/views/assistente/Select.js","components/views/assistente/Report.js"],"names":["filterAssistantsSelector","createSelector","state","allAssistants","assistants","currentFilter","data","filter","assistant","name","toLowerCase","includes","filterAssistantSchedulerSelector","allScheduler","scheduler","auth","current","filterAssistantsDaySelector","currentDay","format","Date","startDate","locale","es","replace","c","toUpperCase","filterAssistantSelector","Select","useSelector","dispatch","useDispatch","useEffect","fetchSchedulers","map","e","endDate","value","_id","title","Report","motivo","observacion","clase","lastName","mostrar","swal","text","icon","button","timer","onSubmit","a","preventDefault","axios","post","window","location","href","onChange","setState","target","get","this","props","match","params","id","res","console","log","className","defaultValue","type","React","Component"],"mappings":"mGAAA,8KAOaA,EAA2BC,aACtC,SAACC,GAAD,OAAWA,EAAMC,cAAcC,cAC/B,SAACF,GAAD,OAAWA,EAAMC,cAAcE,iBAC/B,SAACD,EAAYC,GACX,IAAIC,EAAOF,EAAWG,QAAO,SAACC,GAC5B,OAAOA,EAAUC,KAAKC,cAAcC,SAASN,EAAcK,kBAM7D,MAFkB,KAAlBL,EAAuCD,EAA8BE,KAM5DM,EAAmCX,aAC9C,SAACC,GAAD,OAAWA,EAAMW,aAAaC,aAC9B,SAACZ,GAAD,OAAWA,EAAMa,KAAKC,WACtB,SAACF,EAAWE,GAKV,OAJWF,EAAUP,QAAO,SAACO,GAC3B,OAAOA,EAAUN,UAAUG,SAASK,EAAQR,iBAOrCS,EAA8B,SAACH,GAAD,OACzCb,aACE,SAACC,GAAD,OAAWA,EAAMC,cAAce,cAC/B,SAACA,GAWC,OAVWJ,EAAUP,QAAO,SAACO,GAK3B,OAJgBK,YAAO,IAAIC,KAAKN,EAAUO,WAAY,OAAQ,CAC5DC,OAAQC,MAIPC,QAAQ,OAAO,SAACC,GAAD,OAAOA,EAAEC,iBACxBf,SAASO,UAOPS,EAA0B1B,YACrC,CAhDsB,SAACC,GAAD,OAAWA,EAAMM,aAiDvC,SAACA,GAAD,OAAeA,EAAUA,c,4OChDZ,SAASoB,IACtB,IAAMtB,EAAOuB,YAAYjB,KACnBkB,EAAWC,cAMjB,OAJAC,qBAAU,WACRF,EAASG,OACR,CAACH,IAEGxB,EAAK4B,KAAI,SAACC,GACf,IAAMd,EAAYF,YAAO,IAAIC,KAAKe,EAAEd,WAAY,SAC1Ce,EAAUjB,YAAO,IAAIC,KAAKe,EAAEC,SAAU,SAE5C,OACE,yBAAoBC,MAAOF,EAAEG,IAA7B,UACGH,EAAEI,MADL,IACalB,EADb,MAC2Be,IADdD,EAAEG,Q,sBCTAE,E,4MACnBtC,MAAQ,CACNO,KAAM,GACNgC,OAAQ,GACRC,YAAa,GACbC,MAAO,GACPC,SAAU,I,EAeZC,QAAU,WACRC,IAAK,CACHP,MAAO,SACPQ,KAAM,gBACNC,KAAM,UACNC,OAAQ,UACRC,MAAO,W,EAGXC,S,uCAAW,WAAOhB,GAAP,SAAAiB,EAAA,6DACTjB,EAAEkB,iBADO,SAEHC,IAAMC,KAAK,iDAAkD,CACjE9C,KAAM,EAAKP,MAAMO,KACjBgC,OAAQ,EAAKvC,MAAMuC,OACnBC,YAAa,EAAKxC,MAAMwC,YACxBC,MAAO,EAAKzC,MAAMyC,QANX,OAQT,EAAKE,UAELW,OAAOC,SAASC,KAAO,IAVd,2C,wDAaXC,SAAW,SAACxB,GACV,EAAKyB,SAAL,eACGzB,EAAE0B,OAAOpD,KAAO0B,EAAE0B,OAAOxB,S,8FApC9B,4BAAAe,EAAA,sEACoBE,IAAMQ,IACtB,qDACEC,KAAKC,MAAMC,MAAMC,OAAOC,IAH9B,OACQC,EADR,OAKEC,QAAQC,IAAIF,EAAI9D,MAChByD,KAAKH,SAAS,CACZhB,SAAUwB,EAAI9D,KAAKsC,SACnBnC,KAAM2D,EAAI9D,KAAKG,OARnB,gD,0EAwCA,WACE,OACE,sBAAK8D,UAAU,uDAAf,UACE,oBAAIA,UAAU,sDAAd,sBAGA,uBACEpB,SAAUY,KAAKZ,SACfoB,UAAU,qFAFZ,UAIE,sBAAKA,UAAU,sBAAf,UACE,uBAAOA,UAAU,uDAAjB,qBAGA,uBACElC,MAAO0B,KAAK7D,MAAMO,KAClBA,KAAK,OACL8D,UAAU,8EACVZ,SAAUI,KAAKJ,cAGnB,sBAAKY,UAAU,sBAAf,UACE,uBAAOA,UAAU,uDAAjB,qBAIA,uBACE9D,KAAK,SACL8D,UAAU,kEACVlC,MAAO0B,KAAK7D,MAAMuC,OAClBkB,SAAUI,KAAKJ,cAGnB,sBAAKY,UAAU,iCAAf,UACE,uBAAOA,UAAU,uDAAjB,6BAGA,uBACEA,UAAU,kEACVlC,MAAO0B,KAAK7D,MAAMwC,YAClBjC,KAAK,cACLkD,SAAUI,KAAKJ,cAGnB,sBAAKY,UAAU,sBAAf,UACE,uBAAOA,UAAU,uDAAjB,oBAGA,yBACEA,UAAU,kFACVlC,MAAO0B,KAAK7D,MAAMyC,MAClBlC,KAAK,QACL+D,aAAa,cACbb,SAAUI,KAAKJ,SALjB,UAOE,0DAPF,KASG,cAAC/B,EAAD,UAGL,wBACE6C,KAAK,SACLF,UAAU,4HAFZ,uC,GA7G0BG,IAAMC","file":"static/js/12.f27b6fdd.chunk.js","sourcesContent":["import { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { useSelector } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\n\r\nconst assistantSelect = (state) => state.assistant\r\n\r\nexport const filterAssistantsSelector = createSelector(\r\n  (state) => state.allAssistants.assistants,\r\n  (state) => state.allAssistants.currentFilter,\r\n  (assistants, currentFilter) => {\r\n    let data = assistants.filter((assistant) => {\r\n      return assistant.name.toLowerCase().includes(currentFilter.toLowerCase())\r\n    })\r\n\r\n    let assistantMap = {}\r\n    currentFilter === '' ? (assistantMap = assistants) : (assistantMap = data)\r\n\r\n    return assistantMap\r\n  }\r\n)\r\n\r\nexport const filterAssistantSchedulerSelector = createSelector(\r\n  (state) => state.allScheduler.scheduler,\r\n  (state) => state.auth.current,\r\n  (scheduler, current) => {\r\n    let data = scheduler.filter((scheduler) => {\r\n      return scheduler.assistant.includes(current.assistant)\r\n    })\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nexport const filterAssistantsDaySelector = (scheduler) =>\r\n  createSelector(\r\n    (state) => state.allAssistants.currentDay,\r\n    (currentDay) => {\r\n      let data = scheduler.filter((scheduler) => {\r\n        let startDate = format(new Date(scheduler.startDate), 'EEEE', {\r\n          locale: es\r\n        })\r\n\r\n        return startDate\r\n          .replace(/^\\w/, (c) => c.toUpperCase())\r\n          .includes(currentDay)\r\n      })\r\n\r\n      return data\r\n    }\r\n  )\r\n\r\nexport const filterAssistantSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant\r\n)\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { fetchSchedulers } from \"../../../redux/actions/schedulerActions\";\r\nimport { format } from \"date-fns\";\r\nimport { filterAssistantSchedulerSelector } from \"../../../redux/selectors/filter\";\r\n\r\nexport default function Select() {\r\n  const data = useSelector(filterAssistantSchedulerSelector);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchSchedulers);\r\n  }, [dispatch]);\r\n\r\n  return data.map((e) => {\r\n    const startDate = format(new Date(e.startDate), \"HH:mm\");\r\n    const endDate = format(new Date(e.endDate), \"HH:mm\");\r\n\r\n    return (\r\n      <option key={e._id} value={e._id}>\r\n        {e.title} {startDate} - {endDate}\r\n      </option>\r\n    );\r\n  });\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { fetchSchedulers } from '../../../redux/actions/schedulerActions'\r\nimport { format } from 'date-fns'\r\nimport { filterAssistantSchedulerSelector } from '../../../redux/selectors/filter'\r\nimport api from '../../../api/assistants'\r\nimport axios from 'axios'\r\nimport Selector from './Select'\r\nimport swal from 'sweetalert'\r\n\r\nexport default class Report extends React.Component {\r\n  state = {\r\n    name: '',\r\n    motivo: '',\r\n    observacion: '',\r\n    clase: '',\r\n    lastName: ''\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const res = await axios.get(\r\n      'https://api-ayudantes.herokuapp.com/api/assistant/' +\r\n        this.props.match.params.id\r\n    )\r\n    console.log(res.data)\r\n    this.setState({\r\n      lastName: res.data.lastName,\r\n      name: res.data.name\r\n    })\r\n  }\r\n\r\n  mostrar = () => {\r\n    swal({\r\n      title: 'titulo',\r\n      text: 'texto de pana',\r\n      icon: 'success',\r\n      button: 'Aceptar',\r\n      timer: '60000'\r\n    })\r\n  }\r\n  onSubmit = async (e) => {\r\n    e.preventDefault()\r\n    await axios.post('https://api-ayudantes.herokuapp.com/api/report', {\r\n      name: this.state.name,\r\n      motivo: this.state.motivo,\r\n      observacion: this.state.observacion,\r\n      clase: this.state.clase\r\n    })\r\n    this.mostrar()\r\n\r\n    window.location.href = '/'\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='flex flex-col items-center justify-center gap-5 px-5'>\r\n        <h1 className='flex items-center justify-center text-2xl font-bold'>\r\n          Reportes\r\n        </h1>\r\n        <form\r\n          onSubmit={this.onSubmit}\r\n          className='grid grid-cols-2 content-center items-center bg-white shadow-md rounded p-10 gap-5'\r\n        >\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              Nombre:\r\n            </label>\r\n            <input\r\n              value={this.state.name}\r\n              name='name'\r\n              className=' bg-gray-200 text-black border border-gray-200 rounded h-10  max-w-min pl-3'\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              Motivo:\r\n            </label>\r\n\r\n            <input\r\n              name='motivo'\r\n              className='bg-gray-200 text-black border border-gray-200 rounded h-10 pl-3'\r\n              value={this.state.motivo}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className='flex flex-col gap-3 col-span-2'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              Observaci√≥n:\r\n            </label>\r\n            <input\r\n              className='bg-gray-200 text-black border border-gray-200 rounded h-10 pl-3'\r\n              value={this.state.observacion}\r\n              name='observacion'\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              CLASE:\r\n            </label>\r\n            <select\r\n              className='bg-gray-200 border border-gray-200 text-black text-xs rounded h-10 pl-3 w-full '\r\n              value={this.state.clase}\r\n              name='clase'\r\n              defaultValue='Seleccionar'\r\n              onChange={this.onChange}\r\n            >\r\n              <option>SELECCIONA UNA CLASE</option>\r\n              );\r\n              {<Selector />}\r\n            </select>\r\n          </div>\r\n          <button\r\n            type='submit'\r\n            className='bg-gray-900 text-white font-bold border-b-4 hover:border-b-2 border-gray-500 hover:border-gray-100 rounded-full h-10 mt-6'\r\n          >\r\n            Generar Reporte\r\n          </button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}