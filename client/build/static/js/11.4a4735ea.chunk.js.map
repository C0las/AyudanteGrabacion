{"version":3,"sources":["redux/selectors/filter.js","components/views/assistente/Select.js","components/views/assistente/Report.js"],"names":["assistantSelect","state","assistant","filterAssistantsSelector","createSelector","allAssistants","assistants","currentFilter","data","filter","name","toLowerCase","includes","filterAssistantSchedulerSelector","allScheduler","scheduler","auth","current","filterAssistantsDaySelector","currentDay","format","Date","startDate","locale","es","replace","c","toUpperCase","filterAssistantSelector","filterAssistantDaysLengthSelector","daysAvailable","length","Select","useSelector","dispatch","useDispatch","useEffect","fetchSchedulers","map","e","endDate","value","_id","title","withRouter","props","history","useHistory","id","useParams","lastName","console","log","a","fetchSelectedAssistant","asyncFetch","then","useState","motivo","observacion","clase","addstudents","report","setReport","handleChange","target","addReport","axios","post","res","swal","text","icon","button","timer","push","className","onSubmit","preventDefault","handleSubit","onChange","defaultValue","type"],"mappings":"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","file":"static/js/11.4a4735ea.chunk.js","sourcesContent":["import { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { createSelector } from 'reselect'\r\n\r\nconst assistantSelect = (state) => state.assistant\r\n\r\nexport const filterAssistantsSelector = createSelector(\r\n  (state) => state.allAssistants.assistants,\r\n  (state) => state.allAssistants.currentFilter,\r\n  (assistants, currentFilter) => {\r\n    let data = assistants.filter((assistant) => {\r\n      return assistant.name.toLowerCase().includes(currentFilter.toLowerCase())\r\n    })\r\n\r\n    let assistantMap = {}\r\n    currentFilter === '' ? (assistantMap = assistants) : (assistantMap = data)\r\n\r\n    return assistantMap\r\n  }\r\n)\r\n\r\nexport const filterAssistantSchedulerSelector = createSelector(\r\n  (state) => state.allScheduler.scheduler,\r\n  (state) => state.auth.current,\r\n  (scheduler, current) => {\r\n    let data = scheduler.filter((scheduler) => {\r\n      return scheduler.assistant.includes(current.assistant)\r\n    })\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nexport const filterAssistantsDaySelector = (scheduler) =>\r\n  createSelector(\r\n    (state) => state.allAssistants.currentDay,\r\n    (currentDay) => {\r\n      let data = scheduler.filter((scheduler) => {\r\n        let startDate = format(new Date(scheduler.startDate), 'EEEE', {\r\n          locale: es\r\n        })\r\n\r\n        return startDate\r\n          .replace(/^\\w/, (c) => c.toUpperCase())\r\n          .includes(currentDay)\r\n      })\r\n\r\n      return data\r\n    }\r\n  )\r\n\r\nexport const filterAssistantSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant\r\n)\r\n\r\nexport const filterAssistantDaysLengthSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant.daysAvailable?.length\r\n)\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { fetchSchedulers } from \"../../../redux/actions/schedulerActions\";\r\nimport { format } from \"date-fns\";\r\nimport { filterAssistantSchedulerSelector } from \"../../../redux/selectors/filter\";\r\n\r\nexport default function Select() {\r\n  const data = useSelector(filterAssistantSchedulerSelector);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchSchedulers);\r\n  }, [dispatch]);\r\n\r\n  return data.map((e) => {\r\n    const startDate = format(new Date(e.startDate), \"HH:mm\");\r\n    const endDate = format(new Date(e.endDate), \"HH:mm\");\r\n\r\n    return (\r\n      <option key={e._id} value={e._id}>\r\n        {e.title} {startDate} - {endDate}\r\n      </option>\r\n    );\r\n  });\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport axios from 'axios'\r\nimport Selector from './Select'\r\nimport swal from 'sweetalert'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetchSelectedAssistant } from '../../../redux/actions/assistantActions'\r\n\r\nconst Report = (props) => {\r\n  let history = useHistory()\r\n  const assistant = useSelector((state) => state.assistant?.assistant)\r\n  const { id } = useParams()\r\n  const dispatch = useDispatch()\r\n\r\n  const { name, lastName } = assistant\r\n\r\n  console.log(id)\r\n\r\n  useEffect(() => {\r\n    async function asyncFetch() {\r\n      dispatch(fetchSelectedAssistant(id))\r\n    }\r\n\r\n    asyncFetch().then(() => {})\r\n  }, [dispatch, id])\r\n\r\n  const [report, setReport] = useState({\r\n    name: name + ' ' + lastName,\r\n    motivo: '',\r\n    observacion: '',\r\n    clase: '',\r\n    addstudents: ''\r\n  })\r\n\r\n  const handleSubit = (e) => {\r\n    e.preventDefault()\r\n    addReport()\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setReport({\r\n      ...report,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n  const mostrar = () => {\r\n    swal({\r\n      title: 'Reporte',\r\n      text: 'Datos Guardados correctamente',\r\n      icon: 'success',\r\n      button: 'Aceptar',\r\n      timer: '2000'\r\n    })\r\n  }\r\n  const addReport = () => {\r\n    axios\r\n      .post('https://api-ayudantes.herokuapp.com/api/report', report)\r\n      .then((res) => {\r\n        console.log(res)\r\n      })\r\n    mostrar()\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className='flex flex-col w-full items-center justify-center gap-10 p-3 lg:p-10'>\r\n      <form\r\n        onSubmit={(e) => handleSubit(e)}\r\n        className='flex flex-col items-center bg-white shadow-md rounded p-10'\r\n      >\r\n        <h1 className='flex items-center justify-start text-2xl font-bold p-3 '>\r\n          Reporte\r\n        </h1>\r\n\r\n        <div className='grid grid-cols-2 gap-5'>\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              Nombre:\r\n            </label>\r\n            <input\r\n              name='name'\r\n              value={name + ' ' + lastName}\r\n              className=' bg-gray-200 text-black border border-gray-200 rounded h-10  max-w-min pl-3 truncate'\r\n              onChange={(e) => handleChange(e)}\r\n            />\r\n          </div>\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              CLASES\r\n            </label>\r\n            <select\r\n              className='bg-gray-200 border border-gray-200 text-black text-xs rounded h-10 pl-3 w-full '\r\n              name='clase'\r\n              onChange={(e) => handleChange(e)}\r\n            >\r\n              );\r\n              <option>SELECCIONAR</option>\r\n              {<Selector />}\r\n            </select>\r\n          </div>\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              Motivo del reporte\r\n            </label>\r\n\r\n            <select\r\n              className='bg-gray-200 border border-gray-200 text-black text-xs rounded h-10 pl-3 w-full '\r\n              name='motivo'\r\n              defaultValue='Seleccionar'\r\n              onChange={(e) => handleChange(e)}\r\n            >\r\n              <option>SELECCIONAR</option>\r\n              <option>REGISTRO DE ALUMNOS</option>\r\n              <option>SUSPENSIÓN DE CLASES</option>\r\n            </select>\r\n          </div>\r\n          <div className='flex flex-col gap-3'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold '>\r\n              CANTIDAD ALUMNOS\r\n            </label>\r\n\r\n            <input\r\n              type='number'\r\n              name='addstudents'\r\n              className='bg-gray-200 text-black border border-gray-200 rounded h-10 pl-3'\r\n              onChange={(e) => handleChange(e)}\r\n            />\r\n          </div>\r\n\r\n          <div className='flex flex-col gap-3 col-span-2'>\r\n            <label className='uppercase tracking-wide text-black text-xs font-bold'>\r\n              Observación\r\n            </label>\r\n            <input\r\n              className='bg-gray-200 text-black border border-gray-200 rounded h-10 pl-3'\r\n              name='observacion'\r\n              onChange={(e) => handleChange(e)}\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type='submit'\r\n            className='bg-gray-900 text-white font-bold border-b-4 hover:border-b-2 border-gray-500 hover:border-gray-100 rounded-full h-10 mt-6'\r\n          >\r\n            Generar Reporte\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Report)\r\n"],"sourceRoot":""}