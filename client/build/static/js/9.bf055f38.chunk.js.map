{"version":3,"sources":["redux/selectors/filter.js","components/admin/scheduler/Sidebar.js"],"names":["assistantSelect","state","assistant","filterAssistants","createSelector","allAssistants","assistants","currentFilter","data","filter","name","toLowerCase","includes","selectDay","dataDay","daysAvailable","map","avai","day","e","lastName","rut","filterSchedulerSelector","allScheduler","scheduler","assistantsFilt","title","departament","school","teacher","startDate","endDate","confirmationTurn","a","_id","filterAssistantSchedulerSelector","auth","current","filterAssistantsDaySelector","currentDay","format","Date","locale","es","replace","c","toUpperCase","filterAssistantSelector","filterAssistantDaysLengthSelector","length","Sidebar","useLocation","viewAssistant","useSelector","loading","date","useDispatch","formate","className","index","fono","div","initial","opacity","animate","transition","duration","delay","substr","img","indexName","indexOf","indexLastName","val","hour","contentMain"],"mappings":"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","file":"static/js/9.bf055f38.chunk.js","sourcesContent":["import { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { createSelector } from 'reselect'\r\n\r\nconst assistantSelect = (state) => state.assistant\r\n\r\nexport const filterAssistantsSelector = createSelector(\r\n  (state) => state.allAssistants.assistants,\r\n  (state) => state.allAssistants.currentFilter,\r\n  (assistants, currentFilter) => {\r\n    let data = assistants.filter((assistant) => {\r\n      return assistant?.name.toLowerCase().includes(currentFilter.toLowerCase())\r\n    })\r\n\r\n    let assistantMap = {}\r\n    currentFilter === '' ? (assistantMap = assistants) : (assistantMap = data)\r\n\r\n    return assistantMap\r\n  }\r\n)\r\n\r\nexport const filterAssistants = createSelector(\r\n  (state) => state.allAssistants.assistants,\r\n  (state) => state.allAssistants.selectDay,\r\n  (state) => state.allAssistants.currentFilter,\r\n  (assistants, selectDay, currentFilter) => {\r\n    let dataDay = assistants.filter((assistant) => {\r\n      return assistant.daysAvailable\r\n        .map((avai) => avai.day[0]?.toLowerCase())\r\n        .includes(selectDay.toLowerCase())\r\n    })\r\n\r\n    let data = assistants.filter(\r\n      (e) =>\r\n        e.name.toLowerCase().includes(currentFilter.toLowerCase()) ||\r\n        e.lastName.toLowerCase().includes(currentFilter.toLowerCase()) ||\r\n        e.rut.toLowerCase().includes(currentFilter.toLowerCase())\r\n    )\r\n\r\n    let assistantMap = {}\r\n    selectDay === 'Todos' && currentFilter === ''\r\n      ? (assistantMap = assistants)\r\n      : selectDay === 'Todos'\r\n      ? (assistantMap = data)\r\n      : selectDay !== 'Todos'\r\n      ? (assistantMap = dataDay)\r\n      : (assistantMap = assistants)\r\n\r\n    return assistantMap\r\n  }\r\n)\r\n\r\nexport const filterSchedulerSelector = createSelector(\r\n  (state) => state.allScheduler.scheduler,\r\n  (state) => state.allAssistants.assistants,\r\n  (state) => state.allScheduler.currentFilter,\r\n  (scheduler, assistants, currentFilter) => {\r\n    let assistantsFilt = scheduler.map((data) => {\r\n      const data1 = {\r\n        title: data.title,\r\n        departament: data.departament,\r\n        school: data.school,\r\n        teacher: data.teacher,\r\n        startDate: data.startDate,\r\n        endDate: data.endDate,\r\n        confirmationTurn: data.confirmationTurn,\r\n        assistant: assistants.filter((a) => a._id.includes(data.assistant))[0]\r\n      }\r\n\r\n      return data1\r\n    })\r\n\r\n    let data = assistantsFilt.filter((scheduler) => {\r\n      return (\r\n        scheduler.title.toLowerCase().includes(currentFilter.toLowerCase()) ||\r\n        scheduler.assistant.name\r\n          .toLowerCase()\r\n          .includes(currentFilter.toLowerCase()) ||\r\n        scheduler.assistant.rut\r\n          .toLowerCase()\r\n          .includes(currentFilter.toLowerCase())\r\n      )\r\n    })\r\n\r\n    let schedulerMap = {}\r\n    currentFilter === ''\r\n      ? (schedulerMap = assistantsFilt)\r\n      : (schedulerMap = data)\r\n\r\n    return schedulerMap\r\n  }\r\n)\r\n\r\nexport const filterAssistantSchedulerSelector = createSelector(\r\n  (state) => state.allScheduler.scheduler,\r\n  (state) => state.auth.current,\r\n  (scheduler, current) => {\r\n    let data = scheduler.filter((scheduler) => {\r\n      return scheduler.assistant.includes(current.assistant)\r\n    })\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nexport const filterAssistantsDaySelector = (scheduler) =>\r\n  createSelector(\r\n    (state) => state.allAssistants.currentDay,\r\n    (currentDay) => {\r\n      let data = scheduler.filter((scheduler) => {\r\n        let startDate = format(new Date(scheduler.startDate), 'EEEE dd/MM', {\r\n          locale: es\r\n        })\r\n\r\n        return startDate\r\n          .replace(/^\\w/, (c) => c.toUpperCase())\r\n          .includes(currentDay)\r\n      })\r\n\r\n      return data\r\n    }\r\n  )\r\n\r\nexport const filterAssistantSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant\r\n)\r\n\r\nexport const filterAssistantDaysLengthSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant.daysAvailable?.length\r\n)\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { motion } from 'framer-motion'\r\nimport { setSelectedDay } from '../../../redux/actions/assistantActions'\r\nimport { filterAssistants } from '../../../redux/selectors/filter'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nfunction Sidebar() {\r\n  const location = useLocation()\r\n  const viewAssistant = useSelector((state) => state.allAssistants?.selectDay)\r\n  const today = format(new Date(), 'EEEE', { locale: es })\r\n  const assistants = useSelector(filterAssistants)\r\n  const loading = useSelector((state) => state.allAssistants.loading)\r\n\r\n  const dispatch = useDispatch()\r\n  const date = new Date()\r\n  const formate = format(date, 'EEEE dd/MM, yyyy', { locale: es }).replace(\r\n    /^\\w/,\r\n    (c) => c.toUpperCase()\r\n  )\r\n\r\n  const contentMain = (assistant, index) => {\r\n    const img = (assistant) => {\r\n      const name = assistant.name.replace(/[a-z]/g, '').substr(-3, 2)\r\n      const lastName = assistant.lastName.replace(/[a-z]/g, '').substr(-3, 2)\r\n\r\n      return name + lastName\r\n    }\r\n\r\n    const name = (assistant) => {\r\n      const indexName = assistant.name.indexOf(' ')\r\n      const indexLastName = assistant.lastName.indexOf(' ')\r\n\r\n      var name = assistant.name.substr(0, indexName)\r\n      var lastName = assistant.lastName.substr(0, indexLastName)\r\n\r\n      if (name === '') name = assistant.name\r\n      if (lastName === '') lastName = assistant.lastName\r\n\r\n      return name + ' ' + lastName\r\n    }\r\n\r\n    const rut = assistant.rut.replace(/(\\d{2})(\\d{3})(\\d{3})/, '$1.$2.$3')\r\n    const fono = assistant.fono.replace(/(\\d{1})(\\d{4})(\\d{4})/, '+56 $1 $2 $3')\r\n\r\n    return (\r\n      <>\r\n        {loading ? (\r\n          'Cargando...'\r\n        ) : (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: [0, 1] }}\r\n            transition={{ duration: 0.5, delay: index / 5 }}\r\n            className='flex items-center justify-center border-2 border-gray-200 shadow-md w-52 rounded-lg gap-4 p-3'\r\n          >\r\n            <div className='flex items-center justify-center rounded-full w-12 h-12 bg-primary'>\r\n              <span className='text-lg font-bold text-white'>\r\n                {img(assistant)}\r\n              </span>\r\n            </div>\r\n\r\n            <div className='flex flex-col gap-1'>\r\n              <span className='text-sm font-semibold mb-1'>\r\n                {name(assistant)}\r\n              </span>\r\n              <span className='text-xs font-normal'>{rut}</span>\r\n              <span className='text-xs font-normal'>{fono}</span>\r\n              {assistant.daysAvailable\r\n                .filter((val) => val.day.includes(viewAssistant))\r\n                .map((val) => {\r\n                  return (\r\n                    <div className='flex flex-row w-full items-center gap-1 text-xs'>\r\n                      {val.hour.map((hour) => (\r\n                        <spam\r\n                          className={`${\r\n                            hour === 'MaÃ±ana' ? 'bg-blue-500' : 'bg-yellow-600'\r\n                          } flex items-center justify-center  text-white rounded-sm h-4 w-12`}\r\n                        >\r\n                          {hour}\r\n                        </spam>\r\n                      ))}\r\n                    </div>\r\n                  )\r\n                })}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='hidden lg:flex lg:flex-col bg-white border-l-2 border-gray-200 gap-3 p-4'>\r\n        <div className='flex items-center justify-between'>\r\n          <span className='text-lg text-gray-800 font-medium'>Ayudantes</span>\r\n        </div>\r\n\r\n        <span className='text-xs font-medium'>Hoy, {formate}</span>\r\n        <div className='flex flex-col gap-3 mb-20 overflow-auto'>\r\n          {assistants.map((assistant) => contentMain(assistant))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n"],"sourceRoot":""}