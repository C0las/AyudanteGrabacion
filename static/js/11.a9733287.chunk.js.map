{"version":3,"sources":["redux/selectors/filter.js","components/admin/assistant/CardAssistant.js","components/common/CardAssistantLoading.js","components/admin/assistant/AssistantList.js","components/views/Assistant.js"],"names":["assistantSelect","state","assistant","filterAssistantsSelector","createSelector","allAssistants","assistants","currentFilter","data","filter","name","toLowerCase","includes","filterAssistantSchedulerSelector","allScheduler","scheduler","auth","current","filterAssistantsDaySelector","currentDay","format","Date","startDate","locale","es","replace","c","toUpperCase","filterAssistantSelector","filterAssistantDaysLengthSelector","daysAvailable","length","CardAssistant","props","_id","rut","img","titleName","url","useRouteMatch","motion","div","initial","opacity","animate","transition","duration","delay","index","className","onClick","clickHandler","to","pathname","CardAssistantLoading","AssistantList","useSelector","loading","dispatch","useDispatch","removeAssistantHandler","id","assistantDeleteRequest","renderAssistant","map","indexName","indexOf","indexLastName","lastName","substr","Assistant","n","useEffect","fetchAssistants"],"mappings":"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","file":"static/js/11.a9733287.chunk.js","sourcesContent":["import { format } from 'date-fns'\r\nimport { es } from 'date-fns/locale'\r\nimport { useSelector } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\n\r\nconst assistantSelect = (state) => state.assistant\r\n\r\nexport const filterAssistantsSelector = createSelector(\r\n  (state) => state.allAssistants.assistants,\r\n  (state) => state.allAssistants.currentFilter,\r\n  (assistants, currentFilter) => {\r\n    let data = assistants.filter((assistant) => {\r\n      return assistant.name.toLowerCase().includes(currentFilter.toLowerCase())\r\n    })\r\n\r\n    let assistantMap = {}\r\n    currentFilter === '' ? (assistantMap = assistants) : (assistantMap = data)\r\n\r\n    return assistantMap\r\n  }\r\n)\r\n\r\nexport const filterAssistantSchedulerSelector = createSelector(\r\n  (state) => state.allScheduler.scheduler,\r\n  (state) => state.auth.current,\r\n  (scheduler, current) => {\r\n    let data = scheduler.filter((scheduler) => {\r\n      return scheduler.assistant.includes(current.assistant)\r\n    })\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nexport const filterAssistantsDaySelector = (scheduler) =>\r\n  createSelector(\r\n    (state) => state.allAssistants.currentDay,\r\n    (currentDay) => {\r\n      let data = scheduler.filter((scheduler) => {\r\n        let startDate = format(new Date(scheduler.startDate), 'EEEE', {\r\n          locale: es\r\n        })\r\n\r\n        return startDate\r\n          .replace(/^\\w/, (c) => c.toUpperCase())\r\n          .includes(currentDay)\r\n      })\r\n\r\n      return data\r\n    }\r\n  )\r\n\r\nexport const filterAssistantSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant\r\n)\r\n\r\nexport const filterAssistantDaysLengthSelector = createSelector(\r\n  [assistantSelect],\r\n  (assistant) => assistant.assistant.daysAvailable?.length\r\n)\r\n","import { Link, useRouteMatch } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\nimport { TrashIcon, PencilIcon } from '@heroicons/react/solid'\r\n\r\nconst CardAssistant = (props) => {\r\n  const { _id, rut } = props.assistant\r\n  const img = props.img\r\n  const titleName = props.name\r\n\r\n  let { url } = useRouteMatch()\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: [0, 1] }}\r\n      transition={{ duration: 0.5, delay: props.index / 5 }}\r\n      className='flex flex-col items-center justify-center rounded-md gap-3 p-3 shadow-md border border-gray-100'\r\n    >\r\n      <div className='flex items-center justify-end gap-2 w-full text-gray-400'>\r\n        <button className='flex items-center justify-center rounded-full border border-dashed border-gray-400 bg-transparent w-6 h-6'>\r\n          <PencilIcon className='h-4 w-4 hover:text-green-600' />\r\n        </button>\r\n        <button\r\n          onClick={() => props.clickHandler(_id)}\r\n          className='flex items-center justify-center rounded-full border border-dashed border-gray-400 bg-transparent w-6 h-6'\r\n        >\r\n          <TrashIcon className='h-4 w-4 hover:text-red-600' />\r\n        </button>\r\n      </div>\r\n      <div className='flex flex-col items-center justify-center rounded-full w-20 h-20 bg-primary'>\r\n        <span className='text-2xl font-bold text-white'>{img}</span>\r\n      </div>\r\n      <div className='flex flex-col items-center gap-1'>\r\n        <h1 className='font-semibold'>{titleName}</h1>\r\n        <p className='text-xs font-light'>{rut}</p>\r\n      </div>\r\n      <Link\r\n        to={{\r\n          pathname: `${url}/assistantDetail/${_id}`,\r\n          state: { img: img, titleName: titleName }\r\n        }}\r\n      >\r\n        <button className='text-xs text-white font-medium border-2 bg-primary-light rounded-2xl p-2'>\r\n          VER DETALLES\r\n        </button>\r\n      </Link>\r\n    </motion.div>\r\n  )\r\n}\r\n\r\nexport default CardAssistant\r\n","const CardAssistantLoading = () => {\r\n  return (\r\n    <div className='flex flex-col items-center justify-center rounded-md gap-3 p-3 shadow-md border border-gray-100'>\r\n      <div className='flex items-center justify-end gap-2 w-full text-gray-400 animate-pulse'>\r\n        <button className='flex items-center justify-center rounded-full bg-gray-300 w-6 h-6 animate-pulse' />\r\n        <button className='flex items-center justify-center rounded-full  bg-gray-300 w-6 h-6 animate-pulse' />\r\n      </div>\r\n      <div className='flex flex-col items-center justify-center rounded-full w-20 h-20 bg-gray-300 animate-pulse' />\r\n      <div className='flex flex-col items-center gap-1 animate-pulse'>\r\n        <span className='bg-gray-300 w-28 h-5 rounded-sm animate-pulse' />\r\n        <span className='bg-gray-300 w-20 h-3 rounded-sm animate-pulse' />\r\n      </div>\r\n      <button className='bg-gray-300 rounded-2xl p-2 w-32 h-8 mt-6 animate-pulse' />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CardAssistantLoading\r\n","import { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport CardAssistant from './CardAssistant'\r\nimport CardAssistantLoading from '../../common/CardAssistantLoading'\r\nimport { filterAssistantsSelector } from '../../../redux/selectors/filter'\r\n\r\nimport { assistantDeleteRequest } from '../../../redux/actions/assistantActions'\r\n\r\nconst AssistantList = () => {\r\n  let assistants = useSelector(filterAssistantsSelector)\r\n  const loading = useSelector((state) => state.allAssistants.loading)\r\n  const dispatch = useDispatch()\r\n\r\n  const removeAssistantHandler = (id) => {\r\n    dispatch(assistantDeleteRequest(id))\r\n  }\r\n\r\n  const renderAssistant = assistants.map((assistant, index) => {\r\n    const img = (assistant) => {\r\n      const name = assistant.name.replace(/[a-z]/g, '').substr(-3, 2)\r\n      const lastName = assistant.lastName.replace(/[a-z]/g, '').substr(-3, 2)\r\n\r\n      return name + lastName\r\n    }\r\n\r\n    const name = (assistant) => {\r\n      const indexName = assistant.name.indexOf(' ')\r\n      const indexLastName = assistant.lastName.indexOf(' ')\r\n\r\n      var name = assistant.name.substr(0, indexName)\r\n      var lastName = assistant.lastName.substr(0, indexLastName)\r\n\r\n      if (name === '') name = assistant.name\r\n      if (lastName === '') lastName = assistant.lastName\r\n\r\n      return name + ' ' + lastName\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {loading ? (\r\n          <CardAssistantLoading />\r\n        ) : (\r\n          <CardAssistant\r\n            assistant={assistant}\r\n            name={name(assistant)}\r\n            img={img(assistant)}\r\n            clickHandler={removeAssistantHandler}\r\n            index={index}\r\n          />\r\n        )}\r\n      </>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {assistants.length === 0 ? (\r\n        <div>No se encontraron asistentes</div>\r\n      ) : (\r\n        renderAssistant\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AssistantList\r\n","import { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { fetchAssistants } from '../../redux/actions/assistantActions'\r\nimport { ViewGridIcon, ViewListIcon } from '@heroicons/react/solid'\r\n\r\nimport AssistantList from '../admin/assistant/AssistantList'\r\n\r\nfunction Assistant() {\r\n  const assistants = useSelector((state) => state.allAssistants.assistants)\r\n  const dispatch = useDispatch()\r\n  var n = assistants.length\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAssistants)\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className='flex flex-col bg-white p-10 gap-5 h-screen w-full'>\r\n      <div className='flex flex-row items-center justify-between'>\r\n        <span className='text-xl font-bold text-gray-700'>\r\n          Listado de Ayudantes\r\n        </span>\r\n      </div>\r\n      <div className='flex items-center justify-between'>\r\n        <div className='flex items-center'>\r\n          <h1 className='text-xl font-semibold'>\r\n            Todos\r\n            <span className='text-sm font-light ml-2'>( {n} ) Ayudantes</span>\r\n          </h1>\r\n        </div>\r\n\r\n        <div className='flex items-center gap-3'>\r\n          <ViewListIcon className='h-6 w-6 text-gray-500' />\r\n          <ViewGridIcon className='h-7 w-7 text-blue-900' />\r\n        </div>\r\n      </div>\r\n      <div className='grid md:grid-cols-2 lg:grid-cols-4 items-center gap-10'>\r\n        <AssistantList />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Assistant\r\n"],"sourceRoot":""}